#!/usr/bin/env php
<?php

/*
 * This file is part of CLI Press.
 *
 * The MIT License (MIT)
 * Copyright Â© 2017
 *
 * Alex Carter, alex@blazeworx.com
 * Keith E. Freeman, cli-press@forsaken-threads.com
 *
 * For the full copyright and license information, please view the LICENSE
 * file that should have been distributed with this source code.
 */

require __DIR__ . '/../vendor/autoload.php';

use BlazingThreads\CliPress\Commands\Generate;
use BlazingThreads\CliPress\Commands\Themes;
use BlazingThreads\CliPress\Managers\LeafManager;
use BlazingThreads\CliPress\Managers\TemplateManager;
use Illuminate\Container\Container as Application;
use Symfony\Component\Console\Application as Commander;

/**
 * @return Application
 */
function app()
{
    return Application::getInstance();
}

$app = app();
$app->singleton('managers.template', TemplateManager::class);
$app->singleton('managers.leaf', LeafManager::class);
$app->singleton('commander', Commander::class);

$commander = $app->make('commander');
$commander->addCommands([
    new Generate(),
    new Themes()
]);

$commander->run();